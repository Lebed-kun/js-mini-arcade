(()=>{"use strict";var t={475:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"assets/af203cfb6a1a2373bc34f03a5971495c.gif"},358:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"assets/fa595ea7c888ba075c9d54a6a2649306.png"},682:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"assets/9f950422e0600e09a721af5a2ac617aa.svg"},124:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"assets/9533167f847ead586486eff629f88ed3.png"},39:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"assets/46fb91808ec1451ed75f7559fa169296.png"},702:(t,e,n)=>{n.r(e)},974:(t,e,n)=>{n.r(e)},253:(t,e,n)=>{n.r(e)},301:(t,e,n)=>{n.r(e)},612:(t,e,n)=>{n.r(e)},965:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_FRAMES_PER_SECOND=e.COLLISION_MIN_BOUND=void 0,e.COLLISION_MIN_BOUND=0,e.MAX_FRAMES_PER_SECOND=60},243:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{a(i.next(t))}catch(t){s(t)}}function l(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,l)}a((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(l){return function(a){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(o=r.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(6===l[0]&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(t){l=[6,t],i=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.GameEngine=void 0;var s=n(614),r=n(905),l=n(965),a=function(){function t(t,e,n){var i=this;this._canvas=t,this._background=e,this._gameObjects=n,this._gameEvents=new Array(64*n.length),this._waitResume=function(){return new Promise((function(t){i._resume=t}))},this._bindScene(this._gameObjects)}return t.prototype._bindScene=function(t){for(var e=0,n=t;e<n.length;e++){n[e].bindScene(this)}},Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},enumerable:!1,configurable:!0}),t.prototype.fireEvent=function(t){this._gameEvents.push(t)},t.prototype.pause=function(){var t=this;this._waitResume=function(){return new Promise((function(e){t._resume=e}))}},t.prototype._resumeImpl=function(){this._resume&&(this._resume(),this._resume=null),this._waitResume=function(){return new Promise((function(t){t()}))}},t.prototype.resume=function(){this._resumeImpl()},t.prototype._resolveEvents=function(){for(;this._gameEvents[this._gameEvents.length-1];)for(var t=this._gameEvents.pop(),e=0,n=this._gameObjects;e<n.length;e++){var i=n[e];if(!i.destroyed)if((0,s.isMouseEvent)(t)){var o=i.physicalObject;(0,r.isXYInBounds)(t.payload.x,t.payload.y,o.x0,o.y0,o.w,o.h)&&i.fireEvent(t)}else i.fireEvent(t)}},t.prototype._detectCollisions=function(){for(var t=0;t<this._gameObjects.length;t++){var e=this._gameObjects[t];if(!e.destroyed)for(var n=e.physicalObject,i=t+1;i<this._gameObjects.length;i++){var o=this._gameObjects[i];if(!o.destroyed){var s=o.physicalObject,r=n.y0+n.h-s.y0,a=s.y0+s.h-n.y0,c=s.x0+s.w-n.x0,u=n.x0+n.w-s.x0,_=r>l.COLLISION_MIN_BOUND&&a>l.COLLISION_MIN_BOUND&&c>l.COLLISION_MIN_BOUND&&u>l.COLLISION_MIN_BOUND;_&&r>l.COLLISION_MIN_BOUND&&(r<c||r<u)&&(e.addCollision("down",o),o.addCollision("up",e),c=-1,u=-1),_&&a>l.COLLISION_MIN_BOUND&&(a<c||a<u)&&(e.addCollision("up",o),o.addCollision("down",e),c=-1,u=-1),_&&u>l.COLLISION_MIN_BOUND&&(u<a||u<r)&&(e.addCollision("right",o),o.addCollision("left",e),a=-1,r=-1),_&&c>l.COLLISION_MIN_BOUND&&(c<a||c<r)&&(e.addCollision("left",o),o.addCollision("right",e),a=-1,r=-1)}}}},t.prototype._applyGravityForce=function(t){t.downCollision?t.physicalObject.vy=0:(t.upCollision&&(t.physicalObject.vy=0),t.physicalObject.vy+=t.physicalObject.gravity),t.physicalObject.y0+=t.physicalObject.vy},t.prototype._applyForces=function(){for(var t=0,e=this._gameObjects;t<e.length;t++){var n=e[t];n.destroyed||n.physicalObject.isStatic||this._applyGravityForce(n)}},t.prototype._resolveCollisions=function(){for(var t=0,e=this._gameObjects;t<e.length;t++){var n=e[t];if(n.destroyed)n.clearDownCollision(),n.clearUpCollision(),n.clearLeftCollision(),n.clearRightCollision();else{var i=n.physicalObject;if(i.isStatic||i.isGhost)n.clearDownCollision(),n.clearUpCollision(),n.clearLeftCollision(),n.clearRightCollision();else{var o=n.downCollision,s=n.upCollision,r=n.leftCollision,l=n.rightCollision;if(o&&!o.destroyed){var a=o.physicalObject,c=i.y0+i.h-a.y0;a.isGhost||(a.isStatic?i.y0-=c:(i.y0-=c/2,a.y0+=c/2))}if(s&&!s.destroyed){var u=s.physicalObject;c=u.y0+u.h-i.y0;u.isGhost||(u.isStatic?i.y0+=c:(i.y0+=c/2,u.y0-=c/2))}if(r&&!r.destroyed){var _=r.physicalObject,h=_.x0+_.w-i.x0;_.isGhost||(_.isStatic?i.x0+=h:(i.x0+=h/2,_.x0-=h/2))}if(l&&!l.destroyed){var p=l.physicalObject;h=i.x0+i.w-p.x0;p.isGhost||(p.isStatic?i.x0-=h:(i.x0-=h/2,p.x0+=h/2))}n.clearDownCollision(),null==o||o.clearUpCollision(),n.clearUpCollision(),null==s||s.clearDownCollision(),n.clearLeftCollision(),null==r||r.clearRightCollision(),n.clearRightCollision(),null==l||l.clearLeftCollision()}}}},t.prototype._render=function(){var t=this._canvas.getContext("2d");t.drawImage(this._background.image,0,0,this._background.width,this._background.height);for(var e=0,n=this._gameObjects;e<n.length;e++){var i=n[e];if(!i.destroyed){var o=i.sprite;t.drawImage(o.tileset,o.srcX,o.srcY,o.srcWidth,o.srcHeight,i.physicalObject.x0,i.physicalObject.y0,i.physicalObject.w,i.physicalObject.h)}}},t.prototype._clearDestroyedObjs=function(){for(var t=0,e=0;e<this._gameObjects.length;e++)if(!this._gameObjects[e].destroyed){var n=this._gameObjects[e];this._gameObjects[e]=this._gameObjects[t],this._gameObjects[t]=n,t++}for(;this._gameObjects[this._gameObjects.length-1]&&this._gameObjects[this._gameObjects.length-1].destroyed;)this._gameObjects.pop()},t.prototype._runIteration=function(){return i(this,void 0,void 0,(function(){var t,e,n,s,a,c,u,_,h,p,d,f,y,v,E,b,m,O=this;return o(this,(function(g){switch(g.label){case 0:return[4,this._waitResume()];case 1:for(g.sent(),t=Date.now(),e=0,n=this._gameObjects;e<n.length;e++)(b=n[e]).beforeUpdate();for(this._resolveEvents(),s=0,a=this._gameObjects;s<a.length;s++)(b=a[s]).onResolveEvents(),b.clearEvents();for(this._detectCollisions(),c=0,u=this._gameObjects;c<u.length;c++)(b=u[c]).onDetectCollisions();for(this._applyForces(),_=0,h=this._gameObjects;_<h.length;_++)(b=h[_]).onApplyForces();for(this._resolveCollisions(),p=0,d=this._gameObjects;p<d.length;p++)(b=d[p]).onResolveCollisions();for(this._render(),f=0,y=this._gameObjects;f<y.length;f++)(b=y[f]).onRender();for(this._clearDestroyedObjs(),v=0,E=this._gameObjects;v<E.length;v++)(b=E[v]).afterUpdate();return(m=(0,r.calcRemainingTimeMs)(l.MAX_FRAMES_PER_SECOND,Date.now()-t))>0?[4,(0,r.delay)(m)]:[3,3];case 2:g.sent(),g.label=3;case 3:return window.requestAnimationFrame((function(){return i(O,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this._runIteration()];case 1:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.start=function(){var t=this;this._resumeImpl(),window.requestAnimationFrame((function(){return i(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this._runIteration()];case 1:return t.sent(),[2]}}))}))}))},t}();e.GameEngine=a},614:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isMouseEvent=e.GAME_SCENEMOUSEUP_EVENT_ID=e.GAME_SCENEMOUSECLICK_EVENT_ID=e.GAME_SCENEMOUSEDOWN_EVENT_ID=e.GAME_MOUSEUP_EVENT_ID=e.GAME_MOUSECLICK_EVENT_ID=e.GAME_MOUSEDOWN_EVENT_ID=e.GAME_KEYUP_EVENT_ID=e.GAME_KEYPRESS_EVENT_ID=e.GAME_KEYDOWN_EVENT_ID=void 0,e.GAME_KEYDOWN_EVENT_ID=1,e.GAME_KEYPRESS_EVENT_ID=2,e.GAME_KEYUP_EVENT_ID=3,e.GAME_MOUSEDOWN_EVENT_ID=4,e.GAME_MOUSECLICK_EVENT_ID=5,e.GAME_MOUSEUP_EVENT_ID=6,e.GAME_SCENEMOUSEDOWN_EVENT_ID=7,e.GAME_SCENEMOUSECLICK_EVENT_ID=8,e.GAME_SCENEMOUSEUP_EVENT_ID=9;e.isMouseEvent=function(t){return t.name===e.GAME_MOUSEDOWN_EVENT_ID||t.name===e.GAME_MOUSECLICK_EVENT_ID||t.name===e.GAME_MOUSEUP_EVENT_ID}},154:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GameObject=void 0;var n=function(){function t(t,e,n){this._protoId=t,this._physicalObj=e,this._sprite=n,this._eventsQueue=new Array(64),this._eventsSubscriptions={},this._upCollidedObject=null,this._downCollidedObject=null,this._leftCollidedObject=null,this._rightCollidedObject=null,this._destroyed=!1}return Object.defineProperty(t.prototype,"protoId",{get:function(){return this._protoId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"physicalObject",{get:function(){return this._physicalObj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{get:function(){return this._sprite},enumerable:!1,configurable:!0}),t.prototype.bindScene=function(t){this._boundedScene=t},t.prototype.fireEvent=function(t){this._eventsSubscriptions[t.name]&&this._eventsQueue.push(t)},t.prototype.subscribeEvent=function(t){this._eventsSubscriptions[t]=!0},t.prototype.unsubscribeEvent=function(t){delete this._eventsSubscriptions[t]},t.prototype.clearEvents=function(){for(;this._eventsQueue.length;)this._eventsQueue.pop()},t.prototype.addCollision=function(t,e){switch(t){case"down":this._downCollidedObject=e;break;case"up":this._upCollidedObject=e;break;case"left":this._leftCollidedObject=e;break;case"right":this._rightCollidedObject=e}},t.prototype.clearUpCollision=function(){this._upCollidedObject=null},t.prototype.clearDownCollision=function(){this._downCollidedObject=null},t.prototype.clearLeftCollision=function(){this._leftCollidedObject=null},t.prototype.clearRightCollision=function(){this._rightCollidedObject=null},Object.defineProperty(t.prototype,"upCollision",{get:function(){return this._upCollidedObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"downCollision",{get:function(){return this._downCollidedObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftCollision",{get:function(){return this._leftCollidedObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightCollision",{get:function(){return this._rightCollidedObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this._destroyed=!0},t}();e.GameObject=n},905:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{a(i.next(t))}catch(t){s(t)}}function l(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,l)}a((i=i.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(l){return function(a){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(o=r.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(6===l[0]&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(t){l=[6,t],i=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.delay=e.calcRemainingTimeMs=e.isXYInBounds=void 0;e.isXYInBounds=function(t,e,n,i,o,s){return t>=n&&t<=n+o&&(e>=i&&e<=i+s)};e.calcRemainingTimeMs=function(t,e){return(1e3/t^0)-e};e.delay=function(t){return n(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){window.setTimeout(e,t)}))];case 1:return[2,e.sent()]}}))}))}},496:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GAME_OBJ_ID_DOOR=e.GAME_OBJ_ID_ENEMY=e.GAME_OBJ_ID_PLAYER=e.GAME_OBJ_ID_PILL=e.GAME_OBJ_ID_BOX=e.GRAVITY=void 0,e.GRAVITY=1.11,e.GAME_OBJ_ID_BOX=1,e.GAME_OBJ_ID_PILL=2,e.GAME_OBJ_ID_PLAYER=3,e.GAME_OBJ_ID_ENEMY=4,e.GAME_OBJ_ID_DOOR=5},402:function(t,e,n){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Box=void 0;var s=n(154),r=n(496),l=function(t){function e(e,n,i){return t.call(this,r.GAME_OBJ_ID_BOX,{x0:n,y0:i,w:58,h:58,vx:0,vy:0,isStatic:!0,isGhost:!1,gravity:0},e)||this}return o(e,t),e.prototype.beforeUpdate=function(){},e.prototype.onResolveEvents=function(){},e.prototype.onApplyForces=function(){},e.prototype.onDetectCollisions=function(){},e.prototype.onResolveCollisions=function(){},e.prototype.onRender=function(){},e.prototype.afterUpdate=function(){},e}(s.GameObject);e.Box=l},273:function(t,e,n){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Door=void 0;var s=n(154),r=n(496),l=function(t){function e(e,n,i){return t.call(this,r.GAME_OBJ_ID_DOOR,{x0:n,y0:i,w:64,h:70,vx:0,vy:0,isStatic:!0,isGhost:!0,gravity:0},e)||this}return o(e,t),e.prototype.beforeUpdate=function(){},e.prototype.onResolveEvents=function(){},e.prototype.onDetectCollisions=function(){},e.prototype.onApplyForces=function(){},e.prototype.onResolveCollisions=function(){},e.prototype.onRender=function(){},e.prototype.afterUpdate=function(){},e}(s.GameObject);e.Door=l},24:function(t,e,n){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Enemy=void 0;var s=n(154),r=n(496),l=1.67,a=function(t){function e(e,n,i){var o=t.call(this,r.GAME_OBJ_ID_ENEMY,{x0:n,y0:i,w:82,h:108,vx:l,vy:0,isStatic:!1,isGhost:!1,gravity:r.GRAVITY},e.move1Right)||this;return o._sprites=e,o._state={direction:1,tweaked:!1,tweakedAt:-1},o}return o(e,t),e.prototype.beforeUpdate=function(){},e.prototype.onResolveEvents=function(){},e.prototype.onDetectCollisions=function(){},e.prototype.onApplyForces=function(){if(!this._destroyed){var t=this._boundedScene.canvas,e=this._physicalObj,n=e.x0,i=e.w;n<0&&-1===this._state.direction&&(this._state.direction=-this._state.direction),n>t.width-i&&1===this._state.direction&&(this._state.direction=-this._state.direction),this._physicalObj.vy>.5&&(this._physicalObj.vy=-1.2,this._physicalObj.y0+=this._physicalObj.vy,this._state.direction=-this._state.direction),this._physicalObj.x0+=this._physicalObj.vx*this._state.direction}},e.prototype.onResolveCollisions=function(){},e.prototype.onRender=function(){if(!this._destroyed){var t=Date.now(),e=this._state.tweakedAt;(e<0||t-e>500)&&(this._state.tweaked=!this._state.tweaked,this._state.tweakedAt=Date.now()),-1===this._state.direction?this._state.tweaked?this._sprite=this._sprites.move2Left:this._sprite=this._sprites.move1Left:this._state.tweaked?this._sprite=this._sprites.move2Right:this._sprite=this._sprites.move1Right}},e.prototype.afterUpdate=function(){},e}(s.GameObject);e.Enemy=a},191:function(t,e,n){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Pill=void 0;var s=n(154),r=n(496),l=function(t){function e(e,n,i){return t.call(this,r.GAME_OBJ_ID_PILL,{x0:n,y0:i,w:54,h:54,vx:0,vy:0,isStatic:!0,isGhost:!0,gravity:0},e)||this}return o(e,t),e.prototype.beforeUpdate=function(){},e.prototype.onResolveEvents=function(){},e.prototype.onApplyForces=function(){},e.prototype.onDetectCollisions=function(){},e.prototype.onResolveCollisions=function(){},e.prototype.onRender=function(){},e.prototype.afterUpdate=function(){},e}(s.GameObject);e.Pill=l},911:function(t,e,n){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,o)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),l=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&s(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var a=n(154),c=n(496),u=l(n(614)),_=function(t){function e(e,n,i,o){var s=t.call(this,c.GAME_OBJ_ID_PLAYER,{x0:n,y0:i,w:80,h:106,vx:0,vy:0,isStatic:!1,isGhost:!1,gravity:c.GRAVITY},e.moveLeft)||this;return s._sprites=e,s._options=o,s._state={pillsCollected:0,move:!1,moveDir:"l",attackCastedDir:null,attackCastedAtMs:-1,jump:!1,damaged:!1,damagedAt:-1},s.subscribeEvent(u.GAME_KEYDOWN_EVENT_ID),s.subscribeEvent(u.GAME_KEYUP_EVENT_ID),s.subscribeEvent(u.GAME_SCENEMOUSECLICK_EVENT_ID),s}return o(e,t),e.prototype.beforeUpdate=function(){},e.prototype.onResolveEvents=function(){for(var t=0;this._eventsQueue[t];t++){var e=this._eventsQueue[t];if(e.name!==u.GAME_KEYDOWN_EVENT_ID)if(e.name!==u.GAME_KEYUP_EVENT_ID)if(e.name!==u.GAME_SCENEMOUSECLICK_EVENT_ID);else{var n=e.payload.y,i=this._physicalObj,o=i.y0,s=i.h;n>=o&&n<=o+s&&(this._state.attackCastedDir=this._state.moveDir,this._state.attackCastedAtMs=Date.now())}else switch(e.payload.key){case"a":case"A":case"ArrowLeft":case"d":case"D":case"ArrowRight":this._state.move=!1}else switch(e.payload.key){case"w":case"W":case"ArrowUp":this._state.jump=!0;break;case"a":case"A":case"ArrowLeft":this._state.move=!0,this._state.moveDir="l";break;case"d":case"D":case"ArrowRight":this._state.move=!0,this._state.moveDir="r"}}},e.prototype._handleDamage=function(){var t=Date.now(),e=this._state.damagedAt;if(!(e>=0&&t-e<1e3)){if(this._state.pillsCollected>0){var n=this._state.pillsCollected;this._state.pillsCollected=0,this._options.onPillCollect(-n)}else this._destroyed=!0;this._state.damaged=!0,this._state.damagedAt=Date.now()}},e.prototype._handleEnemyCollision=function(t){if(this._state.attackCastedDir){var e=this._state.attackCastedDir,n=this._physicalObj,i=n.x0,o=n.w,s=t.physicalObject,r=s.x0,l=s.w;return"l"===e&&i<=r+l||"r"===e&&i+o>=r?(t.destroy(),this._state.pillsCollected+=10,void this._options.onPillCollect(10)):void this._handleDamage()}this._handleDamage()},e.prototype._handleEnemyCollisions=function(){var t=this._upCollidedObject;if((null==t?void 0:t.protoId)!==c.GAME_OBJ_ID_ENEMY||(this._handleEnemyCollision(t),!this._state.damaged)){var e=this._downCollidedObject;if((null==e?void 0:e.protoId)!==c.GAME_OBJ_ID_ENEMY||(this._handleEnemyCollision(e),!this._state.damaged)){var n=this._leftCollidedObject;if((null==n?void 0:n.protoId)!==c.GAME_OBJ_ID_ENEMY||(this._handleEnemyCollision(n),!this._state.damaged)){var i=this._rightCollidedObject;(null==i?void 0:i.protoId)!==c.GAME_OBJ_ID_ENEMY||(this._handleEnemyCollision(i),this._state.damaged)}}}},e.prototype._handlePillCollision=function(t){this._state.pillsCollected++,this._options.onPillCollect(1)},e.prototype._handlePillCollisions=function(){var t=this._upCollidedObject;(null==t?void 0:t.protoId)===c.GAME_OBJ_ID_PILL&&(this._handlePillCollision(t),t.destroy());var e=this._downCollidedObject;(null==e?void 0:e.protoId)===c.GAME_OBJ_ID_PILL&&(this._handlePillCollision(e),e.destroy());var n=this._leftCollidedObject;(null==n?void 0:n.protoId)===c.GAME_OBJ_ID_PILL&&(this._handlePillCollision(n),n.destroy());var i=this._rightCollidedObject;(null==i?void 0:i.protoId)===c.GAME_OBJ_ID_PILL&&(this._handlePillCollision(i),i.destroy())},e.prototype._handleDoorCollision=function(t){this._state.pillsCollected>=this._options.requiredPills&&this._options.onDoorHit()},e.prototype._handleDoorCollisions=function(){var t=this._upCollidedObject;(null==t?void 0:t.protoId)===c.GAME_OBJ_ID_DOOR&&this._handleDoorCollision(t);var e=this._downCollidedObject;(null==e?void 0:e.protoId)===c.GAME_OBJ_ID_DOOR&&this._handleDoorCollision(e);var n=this._leftCollidedObject;(null==n?void 0:n.protoId)===c.GAME_OBJ_ID_DOOR&&this._handleDoorCollision(n);var i=this._rightCollidedObject;(null==i?void 0:i.protoId)===c.GAME_OBJ_ID_DOOR&&this._handleDoorCollision(i)},e.prototype._checkJumpingCollision=function(){this._downCollidedObject||(this._state.jump=!1)},e.prototype.onDetectCollisions=function(){this._checkJumpingCollision(),this._handleEnemyCollisions(),this._destroyed||(this._state.damaged=!1,this._handlePillCollisions(),this._handleDoorCollisions())},e.prototype._handleJump=function(){this._state.jump&&(this._physicalObj.vy=-25.01,this._physicalObj.y0+=this._physicalObj.vy)},e.prototype._handleMove=function(){var t=this._boundedScene.canvas,e=this._physicalObj,n=e.x0,i=e.w;n<0&&"l"===this._state.moveDir||n>t.width-i&&"r"===this._state.moveDir||(this._state.move?"l"===this._state.moveDir?this._physicalObj.vx=-5.33:this._physicalObj.vx=5.33:this._physicalObj.vx=0,this._physicalObj.x0+=this._physicalObj.vx)},e.prototype.onApplyForces=function(){this._destroyed||(this._handleJump(),this._handleMove())},e.prototype._prepareSprite=function(){"l"===this._state.attackCastedDir?this._sprite=this._sprites.attackLeft:"r"===this._state.attackCastedDir?this._sprite=this._sprites.attackRight:"l"===this._state.moveDir?this._sprite=this._sprites.moveLeft:"r"===this._state.moveDir&&(this._sprite=this._sprites.moveRight),this._physicalObj.w=this._sprite.srcWidth,this._physicalObj.h=this._sprite.srcHeight},e.prototype.onResolveCollisions=function(){this._destroyed?this._options.onDie():this._prepareSprite()},e.prototype.onRender=function(){this._destroyed&&(this.unsubscribeEvent(u.GAME_KEYDOWN_EVENT_ID),this.unsubscribeEvent(u.GAME_KEYUP_EVENT_ID),this.unsubscribeEvent(u.GAME_SCENEMOUSECLICK_EVENT_ID))},e.prototype.afterUpdate=function(){var t=Date.now(),e=this._state.attackCastedAtMs;e>=0&&t-e>500&&(this._state.attackCastedDir=null,this._state.attackCastedAtMs=-1),this._state.jump=!1},e}(a.GameObject);e.Player=_},181:function(t,e,n){var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var i,o=0,s=e.length;o<s;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.generateScene=void 0;var s=n(402),r=n(191),l=n(24),a=n(911),c=n(273),u=n(243);e.generateScene=function(t,e,n,_){var h=function(t,e){var n=i(i({},e),{requiredPills:14}),o={moveLeft:{tileset:t,srcX:5,srcY:4,srcWidth:57,srcHeight:106},attackLeft:{tileset:t,srcX:64,srcY:4,srcWidth:81,srcHeight:106},moveRight:{tileset:t,srcX:332,srcY:4,srcWidth:50,srcHeight:102},attackRight:{tileset:t,srcX:394,srcY:4,srcWidth:77,srcHeight:102}};return new a.Player(o,35,178,n)}(n,_),p=function(t){var e={tileset:t,srcX:82,srcY:130,srcWidth:64,srcHeight:70};return new c.Door(e,20,6)}(n),d=function(t){var e={move1Left:{tileset:t,srcX:152,srcY:4,srcWidth:82,srcHeight:108},move2Left:{tileset:t,srcX:244,srcY:4,srcWidth:72,srcHeight:104},move1Right:{tileset:t,srcX:474,srcY:4,srcWidth:78,srcHeight:104},move2Right:{tileset:t,srcX:565,srcY:4,srcWidth:70,srcHeight:101}};return[new l.Enemy(e,560,6),new l.Enemy(e,6,-40)]}(n),f=function(t){for(var e={tileset:t,srcX:8,srcY:140,srcWidth:58,srcHeight:58},n=[],i=0,o=282,r=0;r<12;r++)n.push(new s.Box(e,i,o)),i+=58;for(i=451,o=110,r=0;r<4;r++)n.push(new s.Box(e,i,o)),i+=58;for(i=300,o=52,n.push(new s.Box(e,i,o)),i=0,o=71,r=0;r<3;r++)n.push(new s.Box(e,i,o)),i+=58;return n}(n),y=function(t){for(var e={tileset:t,srcX:162,srcY:140,srcWidth:62,srcHeight:56},n={tileset:t,srcX:244,srcY:140,srcWidth:58,srcHeight:54},i={tileset:t,srcX:318,srcY:144,srcWidth:56,srcHeight:54},o=[],s=228,l=226,a=0;a<6;a++){var c=e;switch(3*Math.random()^0){case 0:c=e;break;case 1:c=n;break;case 2:c=i}o.push(new r.Pill(c,s,l)),s+=c.srcWidth}for(s=465,l=56,a=0;a<2;a++){switch(c=e,3*Math.random()^0){case 0:c=e;break;case 1:c=n;break;case 2:c=i}o.push(new r.Pill(c,s,l)),s+=c.srcWidth}for(s=303,l=4,a=0;a<1;a++){switch(c=e,3*Math.random()^0){case 0:c=e;break;case 1:c=n;break;case 2:c=i}o.push(new r.Pill(c,s,l)),s+=c.srcWidth}for(s=69,l=13,a=0;a<2;a++){switch(c=e,3*Math.random()^0){case 0:c=e;break;case 1:c=n;break;case 2:c=i}o.push(new r.Pill(c,s,l)),s+=c.srcWidth}return o}(n);return new u.GameEngine(t,e,o(o(o([h,p],d,!0),f,!0),y,!0))}},518:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PERMITTED_KEYS=void 0,e.PERMITTED_KEYS={w:!0,a:!0,d:!0,W:!0,A:!0,D:!0,ArrowUp:!0,ArrowLeft:!0,ArrowRight:!0}},245:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{a(i.next(t))}catch(t){s(t)}}function l(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,l)}a((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(l){return function(a){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(o=r.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(6===l[0]&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(t){l=[6,t],i=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,a])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var r=n(181),l=n(614),a=s(n(358)),c=s(n(39)),u=n(558),_=n(631),h=n(511),p=n(858),d=n(462),f=n(518),y=function(){function t(t){this._loader=null,this._backgroundTile=null,this._spriteSetTile=null,this._gameCanvas=null,this._scene=null,this._pillsCounter=null,this._winPopup=null,this._failPopup=null,this._cleanupGlobalEventHandlers=function(){},this._containerEl=t}return t.prototype._loadTile=function(t){return i(this,void 0,void 0,(function(){var e,n,i;return o(this,(function(o){switch(o.label){case 0:return n=new Promise((function(t){e=t})),(i=new _.GameTile(this._containerEl,{imageSrc:t,onLoad:e})).mount(),[4,n];case 1:return o.sent(),[2,i]}}))}))},t.prototype._setupGui=function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=this._backgroundTile.getImage(),this._gameCanvas=new h.GameScene(this._containerEl,{width:t.naturalWidth,height:t.naturalHeight}),this._gameCanvas.mount(),[4,new Promise((function(t){window.requestIdleCallback((function(){t(null)}))}))];case 1:return e.sent(),this._pillsCounter=new p.PillsCounter(this._containerEl),this._pillsCounter.mount(),[2]}}))}))},t.prototype._onDoorHit=function(){this._scene.pause();this._winPopup=new d.ContinuePopup(this._containerEl,{initText:"You win =^_^=",onContinue:function(){window.open("https://gitlab.com/jbyte777/prompt-ql","_blank")}}),this._winPopup.mount()},t.prototype._onDie=function(){var t=this;this._scene.pause();this._failPopup=new d.ContinuePopup(this._containerEl,{initText:";''''''3",onContinue:function(){t._cleanupGlobalEventHandlers(),document.body.innerHTML='\n        <p class="h-text">G3XT3QPDN3BX4DKV4XCHVR5335R2SR1C2</p>\n        <p class="h-text">https://gitlab.com/jbyte777/prompt-ql/-/tree/release-6.x</p>\n      '}}),this._failPopup.mount()},t.prototype._onPillCollect=function(t){this._pillsCounter.changeCountBy(t)},t.prototype._onCanvasClick=function(t){var e=this._gameCanvas.getCanvas().getBoundingClientRect(),n=e.top,i=e.left;this._scene.fireEvent({name:l.GAME_SCENEMOUSECLICK_EVENT_ID,payload:{x:t.clientX-i,y:t.clientY-n}})},t.prototype._onKeydown=function(t){f.PERMITTED_KEYS[t.key]&&this._scene.fireEvent({name:l.GAME_KEYDOWN_EVENT_ID,payload:{key:t.key}})},t.prototype._onKeyup=function(t){f.PERMITTED_KEYS[t.key]&&this._scene.fireEvent({name:l.GAME_KEYUP_EVENT_ID,payload:{key:t.key}})},t.prototype._setupGlobalEvtHandlers=function(){var t=this,e=function(e){t._onKeydown(e)},n=function(e){t._onKeyup(e)};window.addEventListener("keydown",e),window.addEventListener("keyup",n),this._cleanupGlobalEventHandlers=function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",n)}},t.prototype._setupScene=function(){return i(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){switch(n.label){case 0:return t=this._backgroundTile.getImage(),this._scene=(0,r.generateScene)(this._gameCanvas.getCanvas(),{image:t,width:t.naturalWidth,height:t.naturalHeight},this._spriteSetTile.getImage(),{onDoorHit:function(){e._onDoorHit()},onDie:function(){e._onDie()},onPillCollect:function(t){e._onPillCollect(t)}}),this._gameCanvas.setClickHandler((function(t){e._onCanvasClick(t)})),this._setupGlobalEvtHandlers(),[4,new Promise((function(t){window.requestIdleCallback((function(){t(null)}))}))];case 1:return n.sent(),this._scene.start(),[2]}}))}))},t.prototype.mount=function(){var t,e,n,s;return i(this,void 0,void 0,(function(){var i,r;return o(this,(function(o){switch(o.label){case 0:return this._loader=new u.Loader(this._containerEl,{initText:"Loading background..."}),this._loader.mount(),i=this,[4,this._loadTile(a.default)];case 1:return i._backgroundTile=o.sent(),null===(t=this._loader)||void 0===t||t.updateText("Loading sprite set..."),r=this,[4,this._loadTile(c.default)];case 2:return r._spriteSetTile=o.sent(),null===(e=this._loader)||void 0===e||e.updateText("Setup GUI..."),[4,this._setupGui()];case 3:return o.sent(),null===(n=this._loader)||void 0===n||n.updateText("Setup game scene..."),[4,this._setupScene()];case 4:return o.sent(),null===(s=this._loader)||void 0===s||s.unmount(),this._loader=null,[2]}}))}))},t.prototype.unmount=function(){this._cleanupGlobalEventHandlers(),this._loader&&(this._loader.unmount(),this._loader=null),this._failPopup&&(this._failPopup.unmount(),this._failPopup=null),this._winPopup&&(this._winPopup.unmount(),this._winPopup=null),this._pillsCounter&&(this._pillsCounter.unmount(),this._pillsCounter=null),this._scene&&this._scene.pause(),this._gameCanvas&&(this._gameCanvas.unmount(),this._gameCanvas=null),this._spriteSetTile&&(this._spriteSetTile.unmount(),this._spriteSetTile=null),this._backgroundTile&&(this._backgroundTile.unmount(),this._backgroundTile=null)},t}();e.App=y},462:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContinuePopup=void 0;var o=i(n(475));n(702);var s=function(){function t(t,e){this._containerEl=t,this._popupEl=null,this._textEl=null,this._text=e.initText,this._onContinue=e.onContinue}return t.prototype.mount=function(){var t=document.createElement("div");t.className="game-continue-popup",t.innerHTML='\n      <div class="game-continue-popup__inner">\n        <img class="game-continue-popup__icon" src="'.concat(o.default,'" alt="chibi" />\n        <div class="game-continue-popup__text">\n          ').concat(this._text,'\n        </div>\n        <button class="game-continue-popup__button">\n          OK!\n        </button>\n      </div>\n    ');var e=t.querySelector(".game-continue-popup__text");this._popupEl=t,this._textEl=e,t.querySelector(".game-continue-popup__button").addEventListener("click",this._onContinue),this._containerEl.appendChild(t)},t.prototype.unmount=function(){this._popupEl&&(this._popupEl.remove(),this._popupEl=null)},t.prototype.updateText=function(t){this._text=t,this._textEl.textContent=this._text},t}();e.ContinuePopup=s},511:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GameScene=void 0,n(974);var i=function(){function t(t,e){this._containerEl=t,this._onClick=null==e?void 0:e.onClick,this._width=null==e?void 0:e.width,this._height=null==e?void 0:e.height}return t.prototype.mount=function(){var t=document.createElement("canvas");t.className="game-scene",t.width=this._width,t.height=this._height,this._onClick&&t.addEventListener("click",this._onClick),this._canvasEl=t,this._containerEl.appendChild(t)},t.prototype.getCanvas=function(){return this._canvasEl},t.prototype.setClickHandler=function(t){this._onClick&&this._canvasEl.removeEventListener("click",this._onClick),this._onClick=t,this._canvasEl.addEventListener("click",this._onClick)},t.prototype.unmount=function(){this._canvasEl&&(this._canvasEl.remove(),this._canvasEl=null)},t}();e.GameScene=i},631:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GameTile=void 0,n(253);var i=function(){function t(t,e){this._containerEl=t,this._imageEl=null,this._imageSrc=e.imageSrc,this._onLoad=e.onLoad}return t.prototype.mount=function(){var t=this,e=document.createElement("img");e.className="game-tile",e.onload=function(){return t._onLoad()},e.src=this._imageSrc,this._imageEl=e,this._containerEl.appendChild(e)},t.prototype.getImage=function(){return this._imageEl},t.prototype.unmount=function(){this._imageEl&&(this._imageEl.remove(),this._imageEl=null)},t}();e.GameTile=i},558:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;var o=i(n(682));n(301);var s=function(){function t(t,e){this._containerEl=t,this._loaderEl=null,this._textEl=null,this._text=e.initText}return t.prototype.mount=function(){var t=document.createElement("div");t.className="game-loader",t.innerHTML='\n      <div class="game-loader__inner">\n        <img class="game-loader__icon" src="'.concat(o.default,'" alt="hoursglass" />\n        <div class="game-loader__text">\n          ').concat(this._text,"\n        </div>\n      </div>\n    ");var e=t.querySelector(".game-loader__text");this._loaderEl=t,this._textEl=e,this._containerEl.appendChild(t)},t.prototype.unmount=function(){this._loaderEl&&(this._loaderEl.remove(),this._loaderEl=null)},t.prototype.updateText=function(t){this._text=t,this._textEl.textContent=this._text},t}();e.Loader=s},858:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PillsCounter=void 0;var o=i(n(124));n(612);var s=function(){function t(t){this._containerEl=t,this._count=0}return t.prototype.mount=function(){var t=document.createElement("div");t.className="game-pills-counter",t.innerHTML='\n      <img class="game-pills-counter__img" src="'.concat(o.default,'" alt="pill" />\n      <div class="game-pills-counter__text">\n        x').concat(this._count,"\n      </div>\n    ");var e=t.querySelector(".game-pills-counter__text");this._textEl=e,this._counterEl=t,this._containerEl.appendChild(t)},t.prototype.unmount=function(){this._counterEl&&(this._counterEl.remove(),this._counterEl=null)},t.prototype.changeCountBy=function(t){this._count+=t,this._textEl.textContent="x".concat(this._count)},t}();e.PillsCounter=s},65:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.initApp=void 0;var i=n(245);e.initApp=function(){var t=document.getElementById("game-container"),e=new i.App(t);e.mount().catch((function(t){console.error("error => ",t),e.unmount(),e=null}))}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})();(0,n(65).initApp)()})();